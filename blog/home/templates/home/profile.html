<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://use.fontawesome.com/1335577d55.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link href="../../static/profile.css" rel="stylesheet">
    <script src="../../static/profile.js"></script>
    <title>{{username}}</title>
</head>
<body>
<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        {% if username %}
            <script type="text/javascript">
                var username_server = '{{username}}';
                // alert("data from server :" + username_server);
                setCookie("username", username_server, 365);
                setCookie("email", '{{email}}', 365);
            </script>
            <a class="navbar-brand" href="/home/"> Hi {{ username }}</a>
        {% else %}
            <a class="navbar-brand" href="/home/">Hello</a>
        {% endif %}
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <!--- Search Bar --->
                <form action="search.html" type="get">
                    <select id="drop_down_filter" name="drop_down_filter">
                        <option value="Categories">Categories</option>
                        <option value="Fruit">Disgusting Fruit</option>
                        <option value="Vegetable">Dirty Vegetables</option>
                        <option value="Meat">Spoiled Meat</option>
                        <option value="Dairy">Some Dairy</option>
                    </select>
                    <input id="search_bar" type="text" name="search_bar" placeholder="Search..." class="round">
                    <button id="search_submit" type="submit">Go</button>
                </form>
                <li class="nav-item">
                    <a class="nav-link" href="about.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="tracking_home">Tracking</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contact_us">Contact</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownBlog" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Login/Register
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownBlog">
                        <a class="dropdown-item" href="login_register">Login/register</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <script type="text/javascript">
                        if (readCookie("username") != "" && readCookie("username") != null) {
                            document.write('<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownBlog" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">My Account</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownBlog">');
                            // document.write(' <a class="dropdown-item" href="shoppingcart">Shopping Cart</a>');
                            document.write(' <a class="dropdown-item" onclick="logout()">Log out</a></div>');
                            //  document.write('</div></li>');
                        } else {
                            document.write('<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownBlog" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">My Account</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownBlog">');
                            document.write(' <a class="dropdown-item" href="login_register">Log in/Register</a>');
                            // document.write(' <a class="dropdown-item" href="shoppingcart">Shopping Cart</a></div>');
                        }
                    </script>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="fullContainer">
    <div class="inform-container">
        <div class="left-container">
            <h3 class="dash-title">Dashboard</h3>
            <ul>
                <li class="dash">
                    <button class="dashbtn">My Account</button>
                </li>
                <li class="dash">
                    <button class="dashbtn payment" onclick="changeContent()">Payment Information</button>
                </li>
                <li class="dash">
                    <button class="dashbtn addrbook">Address Book</button>
                </li>
                <li class="dash">
                    <button class="dashbtn">My Orders</button>
                </li>
                <li class="dash">
                    <button class="btn-logout">Logout</button>
                </li>
            </ul>
        </div>
        <div class="right-container">
            <div class="content-container">
                <!--Needs to get name from backend -->
                <h3 class="name-title">Overview</h3>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" id="editbutton">Edit</button>
                <div style="clear: both;"></div>
                <p class="desc">From your dashboard you have the ability to view a snapshot of your recent account activity and update your account information. Select a link below to view or edit information.</p>
                <div class="column-wrapper">
                    <div class="acc-column">
                        <h3 class="column-title">Account Information</h3>
                        <h4 class="info-title">Contact Information</h4>
                        <!--Needs to get name from backend -->
                        <p class="userInfo" id="usrInfo"><script>getUsername();</script></p>
                        <p class="userInfo" id="usrEmail"><script>getEmail();</script></p>

                    </div>
                    <div class="address-column">
                        <h3 class="column-title">Address Book</h3>


                        <!--Needs to get info from backend -->
                        <button class="info-title addrbook">Manage Address (1)</button>
                        <ul>
                            <script>loadAddress();</script>
                        </ul>


                    </div>
                    <div style="clear: both;"></div>
                </div>
                <div class="payment-row">
                    <h3 class="column-title">Payment Information</h3>

                    <!--Needs to get name from backend -->
                    <button class="info-title payment">Manage Wallet (1)</button>
                    <ul>
                        <li>
                            <script>loadNumber();</script>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Create Contact Information</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form method="post" action="/home/profile/" id="accountForm" autocomplete="off">
                        {% csrf_token %}
                        <div class="page-header">
                            <h5>Address Information</h5>
                            <br>
                        </div>
                        <div class="form-group">
                            <label for="user-info-name" class="form-control-label">Name:</label>
                            <input type="text" class="form-control" id="user-name-addr" name="name-addr">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="form-control-label">Street Address:</label>
                            <input type="text" class="form-control" id="street-addr" name="street-addr">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="form-control-label">City:</label>
                            <input type="text" class="form-control" id="city-addr" name="city-addr">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="form-control-label">Zipcode:</label>
                            <input type="text" class="form-control" id="zip-addr" name="zip-addr">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="form-control-label">State (ex: CA):</label>
                            <input type="text" class="form-control" id="state-addr" name="state-addr">
                        </div>
                        <div class="page-header">
                            <h5>Payment Information</h5>
                            <br>
                        </div>
                        <div class="form-group">
                            <label for="user-info-name" class="form-control-label">Name:</label>
                            <input type="text" class="form-control" id="name-cc" name="name-cc">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="form-control-label">Zipcode:</label>
                            <input type="text" class="form-control" id="zip-cc" name="zip-cc">
                        </div>
                        <div class="form-group">
                            <label for="user-info-name" class="form-control-label">Credit Card Number:</label>
                            <input type="text" class="form-control" id="number-cc" name="number-cc" maxlength="19">
                        </div>
                        <div class="form-group">
                            <label for="user-info-name" class="form-control-label">CCV:</label>
                            <input type="text" class="form-control" id="ccv-cc" name="ccv-cc">
                        </div>
                        <div class="form-group">
                            <label for="user-info-name" class="form-control-label">EXP:</label>
                            <input type="text" class="form-control" id="exp-cc" name="exp-cc">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary" name="update_type" value="update" onclick="setCookie()" style="border-color: #beddff; background-color: #beddff;" disabled>Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</body>
</html>
